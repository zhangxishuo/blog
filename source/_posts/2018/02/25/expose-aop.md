---
title: 揭秘 AOP
date: 2018-02-25 09:08:52
categories: SpringBoot
tags:
- aop
---

假如我们需要在对数据表进行操作时验证用户的权限，看用户是否有操作该表的权限。

1.在需要用到权限判断的方法的类中都写入一个验证权限方法，然后调用。

缺陷：这会让几个类中拥有相同的代码，并且这几个类是毫无关系的。有人会说，那可以写一个父类，父类中含有权限验证方法，然后去继承调用啊？如果有这种疑问，那建议你应该去重新学习一下[面向对象编程](https://segmentfault.com/a/1190000007103935)，思考一下为什么要面向对象？

2.可以写一个权限验证的类，然后需要该功能的方法都引入该类中方法。

缺陷：这会让权限验证的类与使用其的类具有耦合性，权限验证方法可能被几十个、几百个毫无关系的方法调用。

并且这两种方法都具有侵入性，使得当开发人员去编写一个修改用户数据的方法时，还不得不去考虑权限验证，这会让我们的代码的逻辑看起来十分复杂。

有没有一种方法，可以让开发人员只关注该方法的业务逻辑，同时权限验证实现对业务逻辑的低耦合、少侵入呢？那就是`AOP`，面向切面编程。

<!-- more -->

**AOP**

在运行时，动态地将代码切入到类的指定方法、指定位置上的编程思想称为“面向切面编程”。

在指定方法中切入的代码片段称为切面，切入的类、方法叫做切入点。

`AOP`让我们可以将几个无关的类中共有的代码抽取到一个切面中，需要用到时，再切入。

**切面**

