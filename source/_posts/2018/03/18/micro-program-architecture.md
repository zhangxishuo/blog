---
title: 微信小程序架构
date: 2018-03-18 22:16:35
categories: 微信小程序
tags:
- 架构
---

作为一个拥有过`AngularJS`项目经验的人，感觉自己在使用`AngularJS`的时候能够掌握其设计思想，现在写一个微信小程序，为了小程序代码更加优雅，个人根据自己对`MVC`的理解将小程序的架构进行了重新设计。

<!-- more -->

# 目录结构

```
pages/            页面
service/          服务
components/       组件
filter/           过滤器
icons/            图标
images/           图片
zanui/            UI库
```

# 职责划分

我将`pages`设计为控制器，调用`service`中封装好的方法进行数据请求，数据请求时显示加载中，数据请求结束将数据交给组件，让组件去渲染。

`service`设计为我们的`M`层，提供各种数据方法，如在豆瓣电影项目中，我在`service`中对微信的数据请求`wx.request`进行了封装，并向外暴露获取新片榜，热片榜等方法。

`components`就是可以复用的`V`层，就是我们`AngularJS`中的指令，其他框架中的组件。我设计组件为，接受外部数据，对数据进行格式化显示。

`filter`作为过滤器，采用微信中供多页面共享的`WXScript`实现。(过滤器，不过输入与输出，其实就是一个全局共享的函数，类似过滤器)

